<!DOCTYPE html>
<html>
  <head>
    <link
      rel="shortcut icon"
      href="./assets/images/icon.png"
      type="image/png"
    />
    <title>XBO</title>

    <link rel="stylesheet" href="./css/master.css" />
    <script src="/uv/uv.bundle.js" charset="UTF-8"></script>
    <script src="/uv/uv.config.js"></script>
    <script src="./js/preload.js"></script>
    
    <style>
      /* Ensure no unwanted padding/margin */
      body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
      }

      .center-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        box-sizing: border-box;
      }

      .frame {
        width: 100%;
        height: calc(100vh - 100px); /* Adjust the height if needed */
        border: none;
      }
    </style>
  </head>

  <body theme="main">
    <nav style="display: none;">
      <div class="logo">
        <img src="./assets/images/icon.png" alt="Logo" draggable="false" />
        <h1>XBO</h1>
      </div>

      <p id="time"></p>

      <div class="navitems">
        <div class="navitem"><a href="/index.html">Home</a></div>
        <div class="navitem"><a selected href="/search.html">Search</a></div>
      </div>
    </nav>

    <div class="center-container">
      <h1>Search</h1>
      <input id="searchInput" class="pxyinput" type="text" placeholder="Search..." />
      <button id="searchButton">Search</button>
    </div>
    <iframe id="searchFrame" class="frame"></iframe>
  </body>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const searchInput = document.getElementById('searchInput');
      const searchButton = document.getElementById('searchButton');
      const iframe = document.getElementById('searchFrame');

      function performSearch() {
        const query = searchInput.value;
        const proxyUrl = `/proxy/search?q=${encodeURIComponent(query)}`;
        iframe.src = proxyUrl;
      }

      searchButton.addEventListener('click', performSearch);
      searchInput.addEventListener('keypress', function (event) {
        if (event.key === 'Enter') {
          performSearch();
        }
      });
    });
  </script>
</html>
